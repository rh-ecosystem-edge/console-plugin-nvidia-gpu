Thank you for installing {{ .Chart.Name }}!

View the Console Plugin NVIDIA GPU deployed resources by running:

$ kubectl -n {{ .Release.Namespace }} get all -l app.kubernetes.io/name=console-plugin-nvidia-gpu

{{- if .Values.plugin.jobs.patchConsoles.enabled }}

✅ The plugin has been automatically enabled via a post-install hook!

Verify the plugin was enabled:

$ oc get consoles.operator.openshift.io cluster --output=jsonpath="{.spec.plugins}" | grep {{ include "console-plugin-nvidia-gpu.name" . }}

{{- else }}

⚠️  Auto-enablement is disabled. Enable the plugin manually:

# Check if plugins field exists
$ oc get consoles.operator.openshift.io cluster --output=jsonpath="{.spec.plugins}"

# If empty, run:
$ oc patch consoles.operator.openshift.io cluster --patch '{ "spec": { "plugins": ["{{ include "console-plugin-nvidia-gpu.name" . }}"] } }' --type=merge

# If not empty, run:
$ oc patch consoles.operator.openshift.io cluster --patch '[{"op": "add", "path": "/spec/plugins/-", "value": "{{ include "console-plugin-nvidia-gpu.name" . }}" }]' --type=json

{{- end }}

Add the required DCGM Exporter metrics ConfigMap to the NVIDIA operator ClusterPolicy:

$ oc patch clusterpolicies.nvidia.com gpu-cluster-policy --patch '{ "spec": { "dcgmExporter": { "config": { "name": "{{ include "console-plugin-nvidia-gpu.fullname" . }}" } } } }' --type=merge

For more information, visit: {{ .Chart.Home }}
